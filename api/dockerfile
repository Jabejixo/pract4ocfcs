# Используем официальный образ Node.js на базе Alpine Linux.
FROM node:alpine

# Устанавливаем рабочую директорию внутри контейнера в /time-app.
# Все последующие команды будут выполняться относительно этой директории.
WORKDIR /time-app

# Копируем файлы с хоста в контейнер.
# Эти файлы необходимы для установки зависимостей проекта.
COPY package.json package-lock.json ./

# Устанавливаем зависимости, указанные в package.json, с помощью npm.
RUN npm install 

# Копируем содержимое директории src с хоста в контейнер в папку /src.
COPY ./src ./src

# Копируем главный файл приложения (index.mjs) с хоста в контейнер.
COPY index.mjs ./

# Открываем порт 5050 для доступа к приложению извне.
# Это позволяет быть доступным на порту 5050 из контейнера.
EXPOSE 5050

# Команда "npm start" будет выполнена при запуске контейнера.
CMD [ "npm", "start" ]
